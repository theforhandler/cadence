(function(a){a.fn.peek=function(i){var b,e,g=arguments,c=Array.prototype.slice,h="peek"+Math.floor(Math.random()*999999);function f(){var k=a(this);k.data(h+"-visibility",k.css("visibility"));k.data(h+"-display",k.css("display"))}function j(){a(this).css({visibility:"hidden"}).show()}function d(){var k=a(this);k.css({display:k.data(h+"-display"),visibility:k.data(h+"-visibility")});k.removeData(h+"-display");k.removeData(h+"-visibility")}if(!a.isFunction(i)&&a.isFunction(a.fn[i])){i=a.fn[i]}a(this).each(function(){var k=a(this),l=k.parents(":hidden").andSelf();
l.each(f).each(j);if(i){b=i.apply(k,c.call(g,1));if(e===undefined&&b!==undefined){e=b}}l.each(d)});if(e!==undefined){return e}return a(this)}}(jQuery));
/*!
 * jQuery imagesLoaded plugin v2.0.1
 * http://github.com/desandro/imagesloaded
 *
 * MIT License. by Paul Irish et al.
 */
(function(a,b){var c="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==";a.fn.imagesLoaded=function(k){var h=this,m=a.isFunction(a.Deferred)?a.Deferred():0,l=a.isFunction(m.notify),e=h.find("img").add(h.filter("img")),f=[],j=[],g=[];
function i(){var n=a(j),o=a(g);if(m){if(g.length){m.reject(e,n,o)}else{m.resolve(e)}}if(a.isFunction(k)){k.call(h,e,n,o)}}function d(n,o){if(n.src===c||a.inArray(n,f)!==-1){return}f.push(n);if(o){g.push(n)}else{j.push(n)}a.data(n,"imagesLoaded",{isBroken:o,src:n.src});if(l){m.notifyWith(a(n),[o,e,a(j),a(g)])}if(e.length===f.length){setTimeout(i);e.unbind(".imagesLoaded")}}if(!e.length){i()}else{e.bind("load.imagesLoaded error.imagesLoaded",function(n){d(n.target,n.type==="error")}).each(function(n,p){var q=p.src;
var o=a.data(p,"imagesLoaded");if(o&&o.src===q){d(p,o.isBroken);return}if(p.complete&&p.naturalWidth!==b){d(p,p.naturalWidth===0||p.naturalHeight===0);return}if(p.readyState||p.complete){p.src=c;p.src=q}})}return m?m.promise(h):h}})(jQuery);
/*!
 * touchSwipe - jQuery Plugin
 * http://plugins.jquery.com/project/touchSwipe
 * http://labs.skinkers.com/touchSwipe/
 *
 * Copyright (c) 2010 Matt Bryson (www.skinkers.com)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 *
 * $version: 1.2.3
 */
(function(a){a.fn.swipe=function(p){if(!this){return false
}var e={fingers:1,threshold:75,swipe:null,swipeLeft:null,swipeRight:null,swipeUp:null,swipeDown:null,swipeStatus:null,click:null,triggerOnTouchEnd:true,allowPageScroll:"auto"};var c="left";var i="right";var o="up";var l="down";var k="none";var d="horizontal";var g="vertical";var n="auto";var b="start";var h="move";var j="end";var f="cancel";var m="start";if(p.allowPageScroll==undefined&&(p.swipe!=undefined||p.swipeStatus!=undefined)){p.allowPageScroll=k}if(p){a.extend(e,p)}return this.each(function(){var B=a(this);
var y=null;var C=0;var s={x:0,y:0};var v={x:0,y:0};var E={x:0,y:0};function u(G){m=b;C=G.touches.length;distance=0;direction=null;if(C==e.fingers){s.x=v.x=G.touches[0].pageX;s.y=v.y=G.touches[0].pageY;if(e.swipeStatus){t(G,m)}}else{x(G)}}function D(G){if(m==j||m==f){return}v.x=G.touches[0].pageX;v.y=G.touches[0].pageY;direction=q();C=G.touches.length;m=h;A(G,direction);if(C==e.fingers){distance=w();if(e.swipeStatus){t(G,m,direction,distance)}if(!e.triggerOnTouchEnd){if(distance>=e.threshold){m=j;
t(G,m);x(G)}}}else{m=f;t(G,m);x(G)}}function F(G){G.preventDefault();distance=w();direction=q();if(e.triggerOnTouchEnd){m=j;if(C==e.fingers&&v.x!=0){if(distance>=e.threshold){t(G,m);x(G)}else{m=f;t(G,m);x(G)}}else{m=f;t(G,m);x(G)}}else{if(m==h){m=f;t(G,m);x(G)}}}function x(G){C=0;s.x=0;s.y=0;v.x=0;v.y=0;E.x=0;E.y=0}function t(H,G){if(e.swipeStatus){e.swipeStatus.call(B,H,G,direction||null,distance||0)}if(G==f){if(e.click&&C==1&&(isNaN(distance)||distance==0)){e.click.call(B,H,H.target)}}if(G==j){if(e.swipe){e.swipe.call(B,H,direction,distance)
}switch(direction){case c:if(e.swipeLeft){e.swipeLeft.call(B,H,direction,distance)}break;case i:if(e.swipeRight){e.swipeRight.call(B,H,direction,distance)}break;case o:if(e.swipeUp){e.swipeUp.call(B,H,direction,distance)}break;case l:if(e.swipeDown){e.swipeDown.call(B,H,direction,distance)}break}}}function A(G,H){if(e.allowPageScroll==k){G.preventDefault()}else{var I=e.allowPageScroll==n;switch(H){case c:if((e.swipeLeft&&I)||(!I&&e.allowPageScroll!=d)){G.preventDefault()}break;case i:if((e.swipeRight&&I)||(!I&&e.allowPageScroll!=d)){G.preventDefault()
}break;case o:if((e.swipeUp&&I)||(!I&&e.allowPageScroll!=g)){G.preventDefault()}break;case l:if((e.swipeDown&&I)||(!I&&e.allowPageScroll!=g)){G.preventDefault()}break}}}function w(){return Math.round(Math.sqrt(Math.pow(v.x-s.x,2)+Math.pow(v.y-s.y,2)))}function r(){var J=s.x-v.x;var I=v.y-s.y;var G=Math.atan2(I,J);var H=Math.round(G*180/Math.PI);if(H<0){H=360-Math.abs(H)}return H}function q(){var G=r();if((G<=45)&&(G>=0)){return c}else{if((G<=360)&&(G>=315)){return c}else{if((G>=135)&&(G<=225)){return i
}else{if((G>45)&&(G<135)){return l}else{return o}}}}}try{this.addEventListener("touchstart",u,false);this.addEventListener("touchmove",D,false);this.addEventListener("touchend",F,false);this.addEventListener("touchcancel",x,false)}catch(z){}})}})(jQuery);
/*!
 * Spin.js
 * http://fgnass.github.com/spin.js#v1.2.5
 *
 * $version: 1.2.5
 */
(function(i,k,a){var e=["webkit","Moz","ms","O"];var p={};var o;function g(q,t){var r=k.createElement(q||"div");var s;for(s in t){r[s]=t[s]}return r}function h(r){for(var q=1,s=arguments.length;
q<s;q++){r.appendChild(arguments[q])}return r}var j=function(){var q=g("style");h(k.getElementsByTagName("head")[0],q);return q.sheet||q.styleSheet}();function c(u,q,v,y){var r=["opacity",q,~~(u*100),v,y].join("-");var s=0.01+v/y*100;var x=Math.max(1-(1-u)/q*(100-s),u);var w=o.substring(0,o.indexOf("Animation")).toLowerCase();var t=w&&"-"+w+"-"||"";if(!p[r]){j.insertRule("@"+t+"keyframes "+r+"{0%{opacity:"+x+"}"+s+"%{opacity:"+u+"}"+(s+0.01)+"%{opacity:1}"+(s+q)%100+"%{opacity:"+u+"}100%{opacity:"+x+"}}",0);
p[r]=1}return r}function n(u,v){var t=u.style;var q;var r;if(t[v]!==a){return v}v=v.charAt(0).toUpperCase()+v.slice(1);for(r=0;r<e.length;r++){q=e[r]+v;if(t[q]!==a){return q}}}function f(q,s){for(var r in s){q.style[n(q,r)||r]=s[r]}return q}function m(s){for(var q=1;q<arguments.length;q++){var r=arguments[q];for(var t in r){if(s[t]===a){s[t]=r[t]}}}return s}function l(q){var r={x:q.offsetLeft,y:q.offsetTop};while((q=q.offsetParent)){r.x+=q.offsetLeft;r.y+=q.offsetTop}return r}var d={lines:12,length:7,width:5,radius:10,rotate:0,color:"#000",speed:1,trail:100,opacity:1/4,fps:20,zIndex:2000000000,className:"spinner",top:"auto",left:"auto"};
var b=function b(q){if(!this.spin){return new b(q)}this.opts=m(q||{},b.defaults,d)};b.defaults={};m(b.prototype,{spin:function(x){this.stop();var B=this;var q=B.opts;var r=B.el=f(g(0,{className:q.className}),{position:"relative",zIndex:q.zIndex});var A=q.radius+q.length+q.width;var C;var z;if(x){x.insertBefore(r,x.firstChild||null);z=l(x);C=l(r);f(r,{left:(q.left=="auto"?z.x-C.x+(x.offsetWidth>>1):q.left+A)+"px",top:(q.top=="auto"?z.y-C.y+(x.offsetHeight>>1):q.top+A)+"px"})}r.setAttribute("aria-role","progressbar");
B.lines(r,B.opts);if(!o){var u=0;var s=q.fps;var w=s/q.speed;var v=(1-q.opacity)/(w*q.trail/100);var y=w/q.lines;!function t(){u++;for(var D=q.lines;D;D--){var E=Math.max(1-(u+D*y)%w*v,q.opacity);B.opacity(r,q.lines-D,E,q)}B.timeout=B.el&&setTimeout(t,~~(1000/s))}()}return B},stop:function(){var q=this.el;if(q){clearTimeout(this.timeout);if(q.parentNode){q.parentNode.removeChild(q)}this.el=a}return this},lines:function(s,u){var r=0;var q;function t(v,w){return f(g(),{position:"absolute",width:(u.length+u.width)+"px",height:u.width+"px",background:v,boxShadow:w,transformOrigin:"left",transform:"rotate("+~~(360/u.lines*r+u.rotate)+"deg) translate("+u.radius+"px,0)",borderRadius:(u.width>>1)+"px"})
}for(;r<u.lines;r++){q=f(g(),{position:"absolute",top:1+~(u.width/2)+"px",transform:u.hwaccel?"translate3d(0,0,0)":"",opacity:u.opacity,animation:o&&c(u.opacity,u.trail,r,u.lines)+" "+1/u.speed+"s linear infinite"});if(u.shadow){h(q,f(t("#000","0 0 4px #000"),{top:2+"px"}))}h(s,h(q,t(u.color,"0 0 1px rgba(0,0,0,.1)")))}return s},opacity:function(r,q,s){if(q<r.childNodes.length){r.childNodes[q].style.opacity=s}}});!function(){function q(t,s){return g("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="spin-vml">',s)
}var r=f(g("group"),{behavior:"url(#default#VML)"});if(!n(r,"transform")&&r.adj){j.addRule(".spin-vml","behavior:url(#default#VML)");b.prototype.lines=function(v,u){var t=u.length+u.width;var B=2*t;function A(){return f(q("group",{coordsize:B+" "+B,coordorigin:-t+" "+-t}),{width:B,height:B})}var w=-(u.width+u.length)*2+"px";var z=f(A(),{position:"absolute",top:w,left:w});var y;function x(C,s,D){h(z,h(f(A(),{rotation:360/u.lines*C+"deg",left:~~s}),h(f(q("roundrect",{arcsize:1}),{width:t,height:u.width,left:u.radius,top:-u.width>>1,filter:D}),q("fill",{color:u.color,opacity:u.opacity}),q("stroke",{opacity:0}))))
}if(u.shadow){for(y=1;y<=u.lines;y++){x(y,-2,"progid:DXImageTransform.Microsoft.Blur(pixelradius=2,makeshadow=1,shadowopacity=.3)")}}for(y=1;y<=u.lines;y++){x(y)}return h(v,z)};b.prototype.opacity=function(t,s,v,u){var w=t.firstChild;u=u.shadow&&u.lines||0;if(w&&s+u<w.childNodes.length){w=w.childNodes[s+u];w=w&&w.firstChild;w=w&&w.firstChild;if(w){w.opacity=v}}}}else{o=n(r,"animation")}}();i.Spinner=b})(window,document);(function(a){a.fn.spin=function(d,c){var b={psp:{lines:11,length:7,width:3,radius:5,rotate:51,speed:1.2,trail:68,hwaccel:true,className:"spinner",zIndex:2000000000,top:"auto",left:"auto"}};
if(Spinner){return this.each(function(){var f=a(this),e=f.data();if(e.spinner){e.spinner.stop();delete e.spinner}if(d!==false){if(typeof d==="string"){if(d in b){d=b[d]}else{d={}}if(c){d.color=c}}e.spinner=new Spinner(a.extend({color:f.css("color")},d)).spin(this)}})}else{throw"Spinner class not available."}}})(jQuery);
/*!
 * Portfolio Slideshow Pro
 */
(function(a){a(window).load(function(){var b,j,h,c,d,i,g,f;var k=new Array();currSlide=new Array();tabSlide=new Array();c=portfolioSlideshowOptions.psFluid;
b=portfolioSlideshowOptions.psHash;j=portfolioSlideshowOptions.psFancyBox;d=portfolioSlideshowOptions.psTouchSwipe;psKeyboardNav=portfolioSlideshowOptions.psKeyboardNav;f=portfolioSlideshowOptions.psBackgroundImages;h=portfolioSlideshowOptions.psInfoTxt;g=false;if(jQuery.browser.msie&&parseInt(jQuery.browser.version)<9){a(".slideshow-wrapper").addClass("psp-ie")}if(j===true){function e(o,n,l,m){if(n.length>1){return'<div id="image-caption">'+(o&&o.length?"<b>"+o+"</b>":"")+'<span class="fb-info"> Image '+(l+1)+" of "+n.length+"</span></div>"
}else{return'<div id="image-caption">'+(o&&o.length?"<b>"+o+"</b>":"")+"</div>"}}a("a.fancybox").fancybox({titlePosition:"inside",titleFormat:e})}if(a(".showloader").length){a(".showloader").spin("psp");a(".slideshow-wrapper").delay(1000).queue(function(){a(".slideshow-content, .slideshow-nav, .pager").css("visibility","visible");a(".showloader").spin(false).removeClass("showloader")})}else{a(".slideshow-content, .slideshow-nav, .pager").css("visibility","visible")}a("div[id^=portfolio-slideshow]").each(function(){var t=this.id.match(/portfolio-slideshow(\d+)/)[1];
if(psLoop[t]==true){k[t]=0}else{k[t]=true}var r=a("#slideshow-wrapper"+t);var s=a("#slideshow-nav"+t);var A=a("#portfolio-slideshow"+t);var v=a(".psp-active");var p=a("#slideshow-wrapper"+t+".fancygrid");var l=a("#slideshow-wrapper"+t+".fancygrid.toggle-open");var w=a("#slideshow-wrapper"+t+".fancygrid.toggle-closed");var o=A.find(".slideshow-meta");var n=r.find(".show");var y=r.find(".hide");var z=r.find(".pscarousel");var u=r.find(".psthumbs");var q=s.find(".play");var x=s.find(".pause");var m=s.find(".restart");
if(a(".scrollable").length){a("#scrollable"+t).scrollable({keyboard:false}).navigator({navi:"#carouselnav"+t,naviItem:"a"});a(".prev.browse").removeClass("hidden")}r.find(".browse").click(function(){if(g!=true){g=true;setTimeout(function(){g=false},15000)}});a(".toggle-open").find(y).addClass("active");a(".toggle-closed").find(n).addClass("active");n.click(function(){a(this).removeClass("active");y.addClass("active");u.fadeIn("fast");z.fadeIn("fast")});y.click(function(){a(this).removeClass("active");
n.addClass("active");u.fadeOut("fast");z.fadeOut("fast")});l.find(".portfolio-slideshow").hide();l.find(".psthumbs").show();p.find(".pager img").click(function(){A.fadeIn("fast",function(){A.css("width","").css("height","");var B,C;B=A.find(".slideshow-content").eq(currSlide[t]).outerHeight();C=A.find(".slideshow-content").eq(currSlide[t]).width();A.css("height",B).css("width",C);A.fadeTo("fast",1)});p.find(".slideshow-nav").show();p.find(".pager").hide();p.find("a.hide").removeClass("active");p.find("a.show").addClass("active")
});p.find(".thumb-toggles a").click(function(){p.find(".portfolio-slideshow").hide();p.find(".slideshow-nav").hide();p.find(".pager").fadeIn("fast");p.find(".psthumbs").show();p.find("a.hide").removeClass("active");p.find("a.show").addClass("active")});a(function(){var G=0,E=window.location.hash;if(/\d+/.exec(E)){G=/\d+/.exec(E)[0];G=(parseInt(G)||1)-1}if(psPagerStyle[t]==="thumbs"||psPagerStyle[t]==="carousel"){a.fn.cycle.updateActivePagerLink=function(M,N){a(M).find("img").removeClass("activeSlide").filter("#pager"+t+" img:eq("+N+")").addClass("activeSlide")
}}else{a.fn.cycle.updateActivePagerLink=function(M,N){a(M).find("a").removeClass("activeSlide").filter("#pager"+t+" a:eq("+N+")").addClass("activeSlide")}}function C(){A.cycle({fx:psTrans[t],speed:psSpeed[t],timeout:psTimeout[t],delay:psDelay[t],nowrap:k[t],next:"#slideshow-wrapper"+t+" a.slideshow-next, #slideshow-wrapper"+t+" #psnext"+t,startingSlide:G,prev:"#slideshow-wrapper"+t+" a.slideshow-prev , #slideshow-wrapper"+t+" #psprev"+t,before:H,after:K,end:B,slideExpr:".slideshow-content",manualTrump:true,slideResize:false,pager:"#pager"+t,cleartypeNoBg:true,pagerAnchorBuilder:L})
}C();if(f===true){v.each(function(M){a(this).delay(1000*M).queue(function(){a(this).attr("src",a(this).attr("data-img"))})})}if(psAutoplay[t]===false){A.cycle("pause")}else{if(psAudio[t]===true){A.delay(1000).queue(function(){A.cycle("resume");q.fadeOut(100,function(){x.fadeIn(10)});A.parent().nextAll(".haiku-text-player:first").jPlayer("play")})}else{q.fadeOut(100,function(){x.fadeIn(10)})}}x.click(function(){a(this).fadeOut(100,function(){q.fadeIn(10)});if(psAudio[t]===true){a(this).parent().parent().nextAll(".haiku-text-player:first").jPlayer("pause")
}A.cycle("pause")});q.click(function(){A.cycle("resume");a(this).fadeOut(100,function(){x.fadeIn(10)});if(psAudio[t]===true){a(this).parent().parent().nextAll(".haiku-text-player:first").jPlayer("play")}});m.click(function(){a("#pager"+t+" .numbers").empty();a(this).fadeOut(100,function(){x.fadeIn(10)});if(psAudio[t]===true){a(this).parent().parent().nextAll(".haiku-text-player:first").jPlayer("play")}C()});if(c===true){a(window).resize(function(){A.css("width","").css("height","");var M,N;M=A.find(".slideshow-content").eq(currSlide[t]).outerHeight();
N=A.find(".slideshow-content").eq(currSlide[t]).width();A.css("height",M).css("width",N)})}if(psKeyboardNav===true){var I=a("body:not(.ps-active) div.slideshow-wrapper");a(document).keydown(function(M){if(a("body").is(".ps-active")){M.preventDefault()}else{if(M.which==37){I.children("#psprev"+t).click()}else{if(M.which==39){I.children("#psnext"+t).click()}}}})}if(d===true){var F=A.find(v);F.each(function(){var M=a(this);M.swipe({swipeLeft:function(){a("#psnext"+t).click()},swipeRight:function(){a("#psprev"+t).click()
},allowPageScroll:"auto"})})}a(".ps-video").on("hover",function(){A.cycle("pause");x.hide();q.show()});a(".slideshow-content a").not(".psp-no-click").on("click",function(){A.cycle("pause");x.hide();q.show()});function L(N,M){if(psPagerStyle[t]==="thumbs"||psPagerStyle[t]==="carousel"){return"#pager"+t+" img:eq("+(N)+")"}if(psPagerStyle[t]==="bullets"||psPagerStyle[t]==="numbers"||psPagerStyle[t]==="titles"){return"#pager"+t+" a:eq("+(N)+")"}}function H(Q,O,P){var M=a(this);var N=M.find("img");var S=M.next().find("img");
if(N.attr("src")=="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw=="){N.attr("src",N.attr("data-img"))}if(S.attr("src")=="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw=="){S.attr("src",S.attr("data-img"))}A.find(".slideshow-content").removeClass("active-slide");M.addClass("active-slide");a(".ps-video").not(a(".active-slide .ps-video")).each(function(){a(this).prependTo(a(this).parent()).hide()});M.find(".ps-video").show();dataSrc=M.find("iframe").attr("data-src");
M.find("iframe").attr("src",dataSrc);tabSlide[t]=P.nextSlide+1;var R=Math.ceil(((tabSlide[t])/psCarouselSize[t])-1);if(g!=true){a("#carouselnav"+t+" a").eq(R).click()}N.load(function(){var T,U;T=M.peek("outerHeight");U=M.peek("width");A.height(T).width(U)});N.imagesLoaded(function(){var T,U;T=M.peek("outerHeight");U=M.peek("width");A.height(T).width(U)})}function K(R,P,Q){var M=a(this);var O=M.find("img");var S=M.next().find("img");currSlide[t]=Q.currSlide;if(k[t]===true){if(Q.currSlide===0){s.find(".slideshow-prev, .sep").addClass("inactive")
}else{s.find(".slideshow-prev, .sep").removeClass("inactive")}if(Q.currSlide===Q.slideCount-1){s.find(".slideshow-next, .sep").addClass("inactive")}else{s.find(".slideshow-next").removeClass("inactive")}}if(b===true){window.location.hash=Q.currSlide+1}var N=(Q.currSlide+1)+" "+h+" "+Q.slideCount;a(".slideshow-info"+t).html(N)}function B(){s.find(".slideshow-next, .sep").addClass("inactive");x.hide();q.hide();m.show()}if(a(".photoswipe").length){if(r.is(".photoswipe")){var J,D;J=r.find(".ps-photoswipe");
D=r.find(".activate-fullscreen");J.on("click",function(){var M=J.photoSwipe({allowUserZoom:false,fadeInSpeed:"0",zIndex:"10000",captionAndToolbarShowEmptyCaptions:false});A.cycle("pause");x.hide();q.show();M.show(currSlide[t]);return false});D.on("click",function(){var M=J.photoSwipe({allowUserZoom:false,fadeInSpeed:"0",zIndex:"10000",captionAndToolbarShowEmptyCaptions:false});A.cycle("pause");x.hide();q.show();M.show(currSlide[t])})}}})});a(function(){var l=a(".slideshow-popup");if(l.length>0){l.each(function(n){if(a(this).attr("href").match(/ww=[0-9]+/i)){var o=parseInt(a(this).attr("href").match(/ww=[0-9]+/i)[0].replace("ww=",""))
}else{var o="625"}if(a(this).attr("href").match(/wh=[0-9]+/i)){var m=parseInt(a(this).attr("href").match(/wh=[0-9]+/i)[0].replace("wh=",""))}else{var m="625"}a(this).fancybox({type:"iframe",autoScale:false,scrolling:"no",width:o,height:m})})}})})})(jQuery);